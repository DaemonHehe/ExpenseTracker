(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},38938,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(18566);let u=(0,r.createContext)(void 0);function l({children:e}){let[l,s]=(0,r.useState)(null),[a,i]=(0,r.useState)(null),[n,c]=(0,r.useState)(!0),h=(0,o.useRouter)(),d=(0,o.usePathname)();return(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{i(e),s(JSON.parse(t))}catch(e){localStorage.removeItem("token"),localStorage.removeItem("user")}c(!1)},[]),(0,r.useEffect)(()=>{if(n)return;let e=["/auth/login","/auth/register","/"].includes(d);a||e?a&&e&&"/"!==d&&h.push("/dashboard"):h.push("/auth/login")},[a,d,n,h]),(0,t.jsx)(u.Provider,{value:{user:l,token:a,isAuthenticated:!!a,isLoading:n,login:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),i(e),s(t),h.push("/dashboard")},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),s(null),h.push("/auth/login")}},children:e})}function s(){let e=(0,r.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>l,"useAuth",()=>s])},96923,e=>{"use strict";var t=e.i(43476),r=e.i(38938);function o({children:e}){return(0,t.jsx)(r.AuthProvider,{children:e})}e.s(["Providers",()=>o])}]);